import{r,j as e,s as a}from"./index-rDBYtsKc.js";import{A as g}from"./arrow-left-vJPITjot.js";import{S as w}from"./store-DDz9l529.js";import"./createLucideIcon-D4GF9uxc.js";function k(){const[o,u]=r.useState(""),[l,x]=r.useState(""),[n,i]=r.useState(!1),[d,c]=r.useState(""),h=async s=>{s.preventDefault(),i(!0),c("");try{const{data:t,error:m}=await a.auth.signInWithPassword({email:o,password:l});if(m)throw m;if(t.user){const{data:f,error:p}=await a.from("merchants").select("id").eq("email",t.user.email).maybeSingle();if(p||!f)throw await a.auth.signOut(),new Error("Compte e-commerçant non trouvé.");window.location.hash="#/merchant/dashboard"}}catch(t){c(t.message||"Erreur de connexion")}finally{i(!1)}},b=()=>{window.location.href="#/"};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-white to-emerald-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:b,className:"flex items-center text-slate-600 hover:text-slate-900 mb-6",children:[e.jsx(g,{className:"w-5 h-5 mr-2"}),"Retour à l'accueil"]}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-sky-100 rounded-full mb-4",children:e.jsx(w,{className:"w-8 h-8 text-sky-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Connexion E-Commerçant"}),e.jsx("p",{className:"text-slate-600",children:"Accédez à votre tableau de bord"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:d}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",required:!0,value:o,onChange:s=>u(s.target.value),placeholder:"votre@email.com",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Mot de passe"}),e.jsx("input",{type:"password",required:!0,value:l,onChange:s=>x(s.target.value),placeholder:"••••••••",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-sky-600 hover:bg-sky-700 disabled:bg-slate-300 text-white rounded-lg font-medium transition-colors",children:n?"Connexion...":"Se connecter"})]})]})]})]})})}export{k as default};
