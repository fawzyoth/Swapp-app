import{u as w,r as n,j as e,s as c}from"./index-rDBYtsKc.js";import{C as y}from"./calculator-CDfaqDTK.js";import{A as v}from"./alert-circle-BHUxe4H5.js";import{M as S}from"./mail-B70E1DYE.js";import{c as E}from"./createLucideIcon-D4GF9uxc.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=E("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);function I(){const o=w(),[i,f]=n.useState(""),[l,h]=n.useState(""),[d,s]=n.useState(""),[m,a]=n.useState(!1),p=async t=>{t.preventDefault(),a(!0),s("");const x="finance@swapp.tn",g="finance123";try{if(i===x&&l===g){const N={id:"demo-finance-user",email:x,name:"Finance Admin",role:"admin",is_active:!0};sessionStorage.setItem("financeUser",JSON.stringify(N)),o("/finance/dashboard");return}const{data:r,error:b}=await c.auth.signInWithPassword({email:i,password:l});if(b){s("Email ou mot de passe incorrect"),a(!1);return}if(!r.user){s("Erreur de connexion"),a(!1);return}const{data:u,error:j}=await c.from("finance_users").select("*").eq("email",r.user.email).eq("is_active",!0).single();if(j||!u){await c.auth.signOut(),s("Accès non autorisé à la plateforme financière"),a(!1);return}sessionStorage.setItem("financeUser",JSON.stringify(u)),o("/finance/dashboard")}catch(r){console.error("Login error:",r),s("Erreur de connexion")}finally{a(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-500 rounded-xl mb-4",children:e.jsx(y,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"SWAPP Finance"}),e.jsx("p",{className:"text-slate-400 mt-1",children:"Plateforme de Gestion Financière"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Connexion"}),d&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(v,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:d})]}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",value:i,onChange:t=>f(t.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"finance@swapp.tn",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"password",value:l,onChange:t=>h(t.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"********",required:!0})]})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full py-2.5 bg-emerald-500 text-white font-medium rounded-lg hover:bg-emerald-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Connexion...":"Se connecter"})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 mb-3",children:[e.jsx("p",{className:"text-xs font-medium text-slate-600 mb-1",children:"Identifiants demo:"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Email: finance@swapp.tn"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Mot de passe: finance123"})]}),e.jsx("p",{className:"text-xs text-center text-gray-500",children:"Accès réservé à l'équipe financière SWAPP"})]})]}),e.jsx("p",{className:"text-center text-slate-500 text-sm mt-6",children:"© 2025 SWAPP - Plateforme Financière"})]})})}export{I as default};
